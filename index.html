
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Social Studies - Unit 1</title>
  <style>
    body { font-family: Verdana, sans-serif; line-height: 1.6; margin: 20px; font-size: 1.4em; }
    h1, h2, h3 { text-align: center; }
    .container { max-width: 1200px; margin: auto; }
    .question { margin-bottom: 20px; }
    .correct { background-color: #d4edda; }
    .incorrect { background-color: #f8d7da; }
    .feedback { font-weight: bold; margin-top: 5px; }
    input[type="checkbox"] { transform: scale(2.5); margin: 10px; background-color: blue; }
    input[type="radio"] { transform: scale(2.5); margin: 10px; background-color: blue; }
    button[type="submit"] {
      width: 350px; height: 80px; padding: 10px 20px;
      background-color: #4CAF50; color: white; font-size: 1.5em; margin: 30px;
    }
    #teacherName {
      width: 280px; height: 60px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;
      font-family: Georgia, serif; font-size: 24px; color: #333; background-color: #fcfc03;
    }
    hr.rounded { border-top: 15px solid #bbb; border-radius: 5px; }
    .unanswered { border: 2px solid red; background-color: #ffe6e6; padding: 8px; border-radius: 5px; }
    .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}
  </style>
</head>
<body>

<div class="container">
  <h2>Social Studies - Unit 1</h2>

  <h4 style="text-align: center; font-size: 30px">Standards</h4>
  <p style="text-align: left; font-size: 16px;"><strong>SS.4.CV.1:</strong> Explain the roles and responsibilities of government officials at the local, state, and national levels and investigate how the roles and responsibilities of government have changed over time.</p>
  <p style="text-align: left; font-size: 16px;"><strong>RI.4.1:</strong> Refer to details and examples in a text when explaining what the text says explicitly and  when drawing inferences from the text.</p>
  <p style="text-align: left; font-size: 16px;"><strong>RI.4.2:</strong> Determine the main idea of a text and explain how it is supported by key details; summarize the text.</p>
  <p style="text-align: left; font-size: 16px;"><strong>RI.4.4:</strong> Determine the meaning of general academic and domain-specific words or phrases in a text.</p>

  <h2>Directions</h2>
  <p>Read the text and answer the questions below.</p>

  <h1>The Role of Government</h1>
  <p style="text-align: center"><strong>By USHistory.org, adapted by Newsela staff on 02.22.17</strong></p>

  <iframe src="https://drive.google.com/file/d/1YR2_ndcDdqW0yL4m6rrog8G9LTpWel1Q/preview" width="640" height="480" allow="autoplay" class="center"></iframe>

  <p><strong>1.</strong> Why do we have governments? One important reason is that governments make rules. But what rules are necessary or even wanted? That question has many different answers. Over time, different types of governments have set many different rules.</p>
  <p><strong>2.</strong> The idea of government first emerged to protect people and keep order. Conflicts between people have happened throughout history. The idea of government first came about when people realized that a government could help keep them safe during these conflicts. Sometimes, the government could even stop the disagreement.</p>
  <p><strong>3.</strong> People soon saw that protection was easier when they stayed in a group. It also helped if one person or a few people acted as leaders of the group. The leaders would have more power than the others.</p>
  <p><strong>4.</strong> Governments did not only have to protect their people from one another. They also needed to protect their people from outsiders. Some governments built enormous, guarded walls for this purpose. Other governments moved their people to safer areas. They used high mountains, wide rivers or large deserts as barriers. Most governments in history have formed armies for protection, as well. They train a group to defend the others.</p>
    <p><strong>5.</strong> Emergencies happen in our country, too. For example, hurricanes, forest fires and other natural disasters put people in danger. The president works with advisors to plan how the government will help in these situations.</p>
  <p><strong> Governments Of Different Countries Work Together To Keep Peace</strong></p>
  <p><strong>6.</strong> Governments of different countries have also worked together to keep peace. They form partnerships and agree not to fight or harm one another. Today, these partnerships help keep order around the world.</p>
  <p><strong>7.</strong> Over time, the responsibilities of government grew. They soon included watching over the economy of a country.</p>
  <p><strong> Governments Of Different Countries Work Together To Keep Peace</strong></p>
  <p><strong>8.</strong> Some countries have economies based on capitalism. The United States' economy is one example.  It means the government does not control businesses. However, the government will step in to help if needed.</p>
  <p><strong>9.</strong> For example, the United States' economy sank into a Great Depression in the 1930s. Many people lost their jobs and homes. So the U.S. government took action. It made laws to keep the situation from getting worse.</p>
  <p><strong>10.</strong> Some governments also run social programs for their people. These programs may pay for health care or education. They give money and other benefits to people who are too old or sick to work.  During the Great Depression, President Franklin Roosevelt came up with the New Deal programs.  These were a series of social programs. They were created to help people make it through tough times.</p>
 <figure><iframe src="https://drive.google.com/file/d/1DW5vpNwYcuNYMZXhg5wmNmYQz2dEEKGC/preview" width="640" height="480" allow="autoplay" class="center"></iframe>
   <figcaption class="center"><em>Image 1. President Franklin D. Roosevelt signing the GI Bill of Rights into law in 1944. He was a president who created many social programs. For example, the GI Bill of Rights gave benefits to soldiers returning home from World War II. Photo from: Wikimedia Commons.</em></figcaption>
   </figure>
  <p><strong> Debates About How Much Governments Should Help People</strong></p>
  <p><strong>11.</strong> Today, many countries in Europe offer social programs to their
people. The governments pay for health care and education.  They offer other programs to help people live successful lives.</p>
    <p><strong>12.</strong> Not everyone likes these programs. Some people think they cost
the government too much money. They also argue that these programs stop people from taking care of themselves.</p>
  <p><strong>13.</strong> Others disagree. They say it is a government's job to help its people. When governments help those in need, it is better for everyone, they say.</p>
    <p><strong>14.</strong> People today are still debating what government should and should not do. Not everyone agrees on the rules governments should make, or how a government should help its people. Still, most agree that it is the job of the government to set rules. These rules give people guidelines on how they should act, and what they should expect from government.</p>
  <p><strong>15.</strong> Many people would say it is still government's job to protect people from harm. Others would add that government should take care of all the people it protects.</p>
    
   <hr class="rounded">
  
  <h2>Questions</h2>

  <!-- onsubmit removed; JS handles submission -->
  <div style="background-color: Gainsboro;">
  <form id="quizForm">
    <!-- 1 -->
    <div class="question" data-answer="c" data-type="radio" data-name="q1">
      <p><strong>1. What was the original purpose for creating governments? (RI.4.1)</strong></p>
      <label for="q1_a"><input type="radio" name="q1" value="a" id="q1_a"> a) To control businesses and the economy</label><br>
      <label for="q1_b"><input type="radio" name="q1" value="b" id="q1_b"> b) To provide social programs for people</label><br>
      <label for="q1_c"><input type="radio" name="q1" value="c" id="q1_c"> c) To protect people and maintain order</label><br>
      <label for="q1_d"><input type="radio" name="q1" value="d" id="q1_d"> d) To build walls around cities</label>
    </div>

    <!-- 2 -->
    <div class="question" data-answer="d" data-type="radio" data-name="q2">
      <p><strong>2. Based on the text, how did early governments protect their people from outsiders? (RI.4.1)</strong></p>
      <label for="q2_a"><input type="radio" name="q2" value="a" id="q2_a"> a) They only used armies for protection</label><br>
      <label for="q2_b"><input type="radio" name="q2" value="b" id="q2_b"> b) They created social programs</label><br>
      <label for="q2_c"><input type="radio" name="q2" value="c" id="q2_c"> c) They formed partnerships with other countries</label><br>
      <label for="q2_d"><input type="radio" name="q2" value="d" id="q2_d"> d) They used natural barriers and built walls</label>
    </div>

    <!-- 3 -->
    <div class="question" data-answer="b" data-type="radio" data-name="q3">
      <p><strong>3. What is one main difference between the U.S. economy and some other countries' economies? (RI.4.2)</strong></p>
      <label for="q3_a"><input type="radio" name="q3" value="a" id="q3_a"> a) The U.S. government controls all businesses</label><br>
      <label for="q3_b"><input type="radio" name="q3" value="b" id="q3_b"> b) The U.S. government doesn't control businesses</label><br>
      <label for="q3_c"><input type="radio" name="q3" value="c" id="q3_c"> c) The U.S. has no social programs</label><br>
      <label for="q3_d"><input type="radio" name="q3" value="d" id="q3_d"> d) The U.S. doesn't help during economic crises</label>
    </div>

    <!-- 4 -->
    <div class="question" data-answer="c" data-type="radio" data-name="q4">
      <p><strong>4. What does the word "capitalism" mean in the context of this article? (RI.4.4)</strong></p>
      <label for="q4_a"><input type="radio" name="q4" value="a" id="q4_a"> a) A system where the government controls all businesses</label><br>
      <label for="q4_b"><input type="radio" name="q4" value="b" id="q4_b"> b) A system of social programs</label><br>
      <label for="q4_c"><input type="radio" name="q4" value="c" id="q4_c"> c) A system where businesses operate freely without government control</label><br>
      <label for="q4_d"><input type="radio" name="q4" value="d" id="q4_d"> d) A system that only existed during the Great Depression</label>
    </div>

      <!-- 5 -->
    <div class="question" data-answer="d" data-type="radio" data-name="q5">
      <p><strong>5. What is the main idea of this text? (RI.4.2)</strong></p>
      <label for="q5_a"><input type="radio" name="q5" value="a" id="q5_a"> a) Governments are only needed for protection</label><br>
      <label for="q5_b"><input type="radio" name="q5" value="b" id="q5_b"> b) Social programs are the most important part of government</label><br>
      <label for="q5_c"><input type="radio" name="q5" value="c" id="q5_c"> c) Governments should control all businesses</label><br>
      <label for="q5_d"><input type="radio" name="q5" value="d" id="q5_d"> d) Governments serve multiple roles including protection and helping people</label>
    </div>
    </div>

    <hr class="rounded">
    <p style="text-align: center; font-size: 40px; color: brown;"><b>This is the end of the quiz.</b></p>
    <p style="text-align: left; font-size: 28px; color: brown;"><em>Make sure you:</em></p>
    <ul>
      <li style="color: brown;">Check your answers before submitting the test.</li>
      <li style="color: brown;">Type in your <b>name</b> and <b>last name</b> <u>correctly</u></li>
      <li style="color: brown;">Enter <u>your</u> <b>teacher</b>'s name.</li>
    </ul>
    <p style="font-size: 28px; color: brown;"><em>When you are ready, click 'Submit' and your test will be auto-graded.</em></p>

    <hr class="rounded">

    <label>
      <p>
        Name & Last Name (required):
        <input style="width: 400px; height: 45px; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-family: Georgia, serif; font-size: 24px; color: #030303; background-color: #fcfc03;"
               type="text" id="studentName" name="name" placeholder="Type Your Name Here" required aria-label="Student Name">
      </p>
    </label>

    <label>
      <p>
        Teacher (required):
        <select id="teacherName" name="teacher" required aria-label="Teacher">
          <option value="" disabled selected>Select your teacher</option>
          <option value="Becerril">Becerril</option>
          <option value="Cerwin">Cerwin</option>
          <option value="Diaz">Diaz</option>
        </select>
      </p>
    </label>

    <hr class="rounded">
    <div style="text-align: center;">
      <button type="submit" id="submitBtn">Submit</button>
    </div>
  </form>

  <div id="result" style="margin-top:20px; font-weight:bold;"></div>
</div>

<script>
(() => {
  const form = document.getElementById("quizForm");
  const submitBtn = document.getElementById("submitBtn");
  let isSubmitting = false;

  form.addEventListener("submit", async function(e) {
    e.preventDefault();
    if (isSubmitting) return; // prevent double-clicks

    // Validate name & teacher first
    const studentNameEl = document.getElementById("studentName");
    const teacherNameEl = document.getElementById("teacherName");
    studentNameEl.classList.remove("unanswered");
    teacherNameEl.classList.remove("unanswered");

    if (!studentNameEl.value.trim()) {
      alert("⚠️ Please enter your name.");
      studentNameEl.classList.add("unanswered");
      studentNameEl.scrollIntoView({ behavior: "smooth", block: "center" });
      studentNameEl.focus();
      return;
    }
    if (!teacherNameEl.value) {
      alert("⚠️ Please select your teacher.");
      teacherNameEl.classList.add("unanswered");
      teacherNameEl.scrollIntoView({ behavior: "smooth", block: "center" });
      teacherNameEl.focus();
      return;
    }

    // Clear old highlights
    document.querySelectorAll(".question").forEach(q => {
      q.classList.remove("unanswered", "correct", "incorrect");
    });

    // Pass 1: Validation only
    let score = 0;
    let total = 0;
    let openResponses = [];
    let allAnswered = true;
    let firstUnanswered = null;

    document.querySelectorAll(".question").forEach(q => {
      const type = q.dataset.type;
      const name = q.dataset.name;

      if (type === "radio") {
        total++;
        const chosen = document.querySelector(`input[name="${name}"]:checked`);
        if (!chosen) {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      } else if (type === "checkbox") {
        total++;
        const selected = Array.from(document.querySelectorAll(`input[name="${name}"]:checked`));
        if (selected.length !== 2) {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      } else {
        const textarea = q.querySelector("textarea");
        if (textarea && textarea.value.trim() === "") {
          allAnswered = false;
          q.classList.add("unanswered");
          if (!firstUnanswered) firstUnanswered = q;
        }
      }
    });

    if (!allAnswered) {
      alert("⚠️ Please answer all questions. (Checkbox questions must have exactly TWO choices.)");
      if (firstUnanswered) {
        firstUnanswered.scrollIntoView({ behavior: "smooth", block: "center" });
      }
      return;
    }

    // Pass 2: Grade & collect
    let detailedAnswers = {};
    document.querySelectorAll(".question").forEach(q => {
      const type = q.dataset.type;
      const correct = q.dataset.answer;
      const name = q.dataset.name;
      let studentAnswer = "";

      if (type === "radio") {
        const chosen = document.querySelector(`input[name="${name}"]:checked`);
        studentAnswer = chosen.value;
        if (chosen.value === correct) {
          score++;
          q.classList.add("correct");
        } else {
          q.classList.add("incorrect");
        }
      } else if (type === "checkbox") {
        const selected = Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(cb => cb.value);
        studentAnswer = selected.join(",");
        const correctAnswers = (correct || "").split(",");
        const isCorrect = selected.length === correctAnswers.length && correctAnswers.every(ans => selected.includes(ans));
        if (isCorrect) {
          score++;
          q.classList.add("correct");
        } else {
          q.classList.add("incorrect");
        }
      } else {
        const textarea = q.querySelector("textarea");
        if (textarea) {
          studentAnswer = textarea.value.trim();
          openResponses.push({ question: q.querySelector("p").innerText, answer: studentAnswer });
          q.classList.add("correct"); // recorded
        }
      }

      detailedAnswers[name] = studentAnswer;
    });

    const percent = Math.round((score / total) * 100);
    const studentName = studentNameEl.value.trim();
    const teacherName = teacherNameEl.value;

    // Display report
    let openHTML = "";
    if (openResponses.length > 0) {
      openHTML = "<h3>Open-Ended Responses</h3><ul>";
      openResponses.forEach(r => {
        openHTML += `<li><strong>${r.question}</strong><br>Response: ${r.answer}</li>`;
      });
      openHTML += "</ul>";
    }

    document.getElementById("result").innerHTML = `
      <h3>Student Report Card</h3>
      <p><strong>Student:</strong> ${studentName}</p>
      <p><strong>Teacher:</strong> ${teacherName}</p>
      <p><strong>Score:</strong> ${score} out of ${total} correct (${percent}%).</p>
      <p><em>Note:</em> Only multiple-choice and checkbox questions are auto-graded.</p>
      ${openHTML}
    `;

    // Prepare payload for Google Sheets
    const payload = { studentName, teacherName, score, percent, ...detailedAnswers };
    const formBody = Object.keys(payload)
      .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(payload[key]))
      .join("&");

    // Lock UI & send
    isSubmitting = true;
    const originalBtnText = submitBtn.textContent;
    submitBtn.disabled = true;
    submitBtn.textContent = "Submitting...";

    try {
      const res = await fetch("https://script.google.com/macros/s/AKfycbxaJ5QMcv4-RRneSnGItgnsr4daiWapizC85t9DeUfjo2xIO4tTVadUaVE51M0IhC7yMg/exec", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: formBody
      });
      const data = await res.text();
      console.log("Server response:", data);
      submitBtn.textContent = "Submitted ✓"; // keep disabled to prevent resubmission
      alert("Quiz submitted successfully!");
    } catch (err) {
      console.error("Error:", err);
      alert("There was an error submitting your quiz. Please try again.");
      isSubmitting = false;
      submitBtn.disabled = false;
      submitBtn.textContent = originalBtnText;
    }
  });
})();
</script>

</body>
</html>
